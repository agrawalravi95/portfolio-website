function preventDefault(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1}function keydown(e){for(var n=keys.length;n--;)if(e.keyCode===keys[n])return void preventDefault(e)}function wheel(e){preventDefault(e)}function disable_scroll(){window.addEventListener&&window.addEventListener("DOMMouseScroll",wheel,!1),window.onmousewheel=document.onmousewheel=window.ontouchmove=document.ontouchmove=wheel,document.onkeydown=keydown}function enable_scroll(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",wheel,!1),window.onmousewheel=document.onmousewheel=document.onkeydown=window.ontouchmove=document.ontouchmove=null,body.classList.remove("non-scrollable"),wrapper.classList.remove("non-scrollable")}function scrollToSection(e,n){enable_scroll(),scrollFlag=!0,closeMenu();var o=n.offsetTop;const t=Math.PI/(e/15),i=Math.abs(window.scrollY-o),s=i/2;var l;l=480>=width?0:100;var a,c=window.scrollY>o?"Up":"Down",r=0,d=setInterval(function(){"Up"==c&&window.scrollY>o-l/2||"Down"==c&&window.scrollY+l/2<o?(r+=1,a=s-s*Math.cos(r*t),"Up"==c&&(a*=-1),window.scrollTo(0,window.scrollY+a),window.scrollY>height-window.outerHeight+l&&"Down"==c&&clearInterval(d),0==window.scrollY&&"Up"==c&&clearInterval(d)):clearInterval(d)},15)}var body=document.body,html=document.documentElement,wrapper=document.getElementsByClassName("wrapper")[0],header=document.getElementsByTagName("header")[0],introText=document.getElementsByClassName("home__intro-text")[0],navMenu=document.getElementsByClassName("nav")[0],navLinks=document.getElementsByClassName("nav-link"),brand=document.getElementsByClassName("brand")[0],onLink=document.getElementsByClassName("on")[0],scrollDown=document.getElementsByClassName("home__down-symbol")[0],workImages=document.getElementsByClassName("work-project__img"),menuIcon=document.getElementsByClassName("nav-toggle")[0],i,SCROLL_DURATION=2500,sections=document.getElementsByTagName("section"),height=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight),width=Math.max(body.scrollWidth,body.offsetWidth,html.clientWidth,html.scrollWidth,html.offsetWidth),outerWidth=window.outerWidth,outerHeight=window.outerHeight,currentSection=sections[0],prevSection=sections[0];window.outerWidth<=960&&(navMenu.className="nav pr nav-hidden");var keys=[37,38,39,40],scrollFlag=!0;window.onresize=function(){width=Math.max(body.scrollWidth,body.offsetWidth,html.clientWidth,html.scrollWidth,html.offsetWidth),960>=width&&"nav pr"==navMenu.className&&(navMenu.className="nav pr nav-hidden",menuIcon.classList.remove("active"),enable_scroll())},menuIcon.addEventListener("click",function(e){this.classList.toggle("active"),navMenu.classList.toggle("nav-hidden"),1==scrollFlag?(disable_scroll(),scrollFlag=!1):(enable_scroll(),scrollFlag=!0),e.preventDefault()},!1);var closeMenu=function(){menuIcon.classList.remove("active"),navMenu.classList.add("nav-hidden")};navLinks[0].addEventListener("click",function(e){scrollToSection(SCROLL_DURATION,sections[0]),e.preventDefault()},!1),navLinks[1].addEventListener("click",function(e){scrollToSection(SCROLL_DURATION,sections[1]),e.preventDefault()},!1),navLinks[2].addEventListener("click",function(e){scrollToSection(SCROLL_DURATION,sections[2]),e.preventDefault()},!1),navLinks[3].addEventListener("click",function(e){scrollToSection(SCROLL_DURATION,sections[3]),e.preventDefault()},!1),scrollDown.addEventListener("click",function(){scrollToSection(SCROLL_DURATION,sections[1])},!1);var brandHandler=function(e){currentSection=e,prevSection!=currentSection&&(brand.classList.remove("hidden"),setTimeout(function(){brand.classList.add("hidden")},1e3),prevSection=currentSection)},showBrand=function(){brand.classList.remove("hidden")};window.onscroll=function(){if(height=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight),window.scrollY>=sections[1].offsetTop-100&&width>960?header.classList.add("header--white"):header.classList.remove("header--white"),window.scrollY+window.innerHeight+100>=window.height)onLink.className="nav-link",navLinks[3].className="nav-link on",onLink=navLinks[3],960>=width&&(brand.innerHTML="Contact",brandHandler(sections[3])),console.log(window.scrollY+" "+height+" "+window.outerHeight);else if(window.scrollY>=sections[2].offsetTop-100)onLink.className="nav-link",navLinks[2].className="nav-link on",onLink=navLinks[2],960>=width&&(brand.innerHTML="About",brandHandler(sections[2]));else if(window.scrollY>=sections[1].offsetTop-100)onLink.className="nav-link",navLinks[1].className="nav-link on",onLink=navLinks[1],960>=width&&(brand.classList.add("brand--scrolled"),brand.innerHTML="Work",brandHandler(sections[1]));else{onLink.className="nav-link",navLinks[0].className="nav-link on",onLink=navLinks[0];for(var e=0;e<workImages.length;e++)workImages[e].children[0].className="";960>=width&&(brand.classList.remove("brand--scrolled"),brand.innerHTML="Home",brandHandler(sections[0]))}},function(){function e(){l=window.innerWidth,a=window.innerHeight,w={x:0,y:a},c=document.getElementById("large-header"),c.style.height=a+"px",r=document.getElementById("demo-canvas"),r.width=l,r.height=a,d=r.getContext("2d"),h=[];for(var e=0;.5*l>e;e++){var n=new s;h.push(n)}i()}function n(){window.addEventListener("scroll",o),window.addEventListener("resize",t)}function o(){m=document.body.scrollTop>a?!1:!0}function t(){l=window.innerWidth,a=window.innerHeight,c.style.height=a+"px",r.width=l,r.height=a}function i(){if(m){d.clearRect(0,0,l,height);for(var e in h)h[e].draw()}requestAnimationFrame(i)}function s(){function e(){n.pos.x=Math.random()*l,n.pos.y=a+100*Math.random(),n.alpha=.1+.3*Math.random(),n.scale=.1+.3*Math.random(),n.velocity=Math.random()}var n=this;!function(){n.pos={},e(),console.log(n)}(),this.draw=function(){n.alpha<=0&&e(),n.pos.y-=n.velocity,n.alpha-=5e-4,d.beginPath(),d.arc(n.pos.x,n.pos.y,10*n.scale,0,2*Math.PI,!1),d.fillStyle="rgba(255,255,255,"+n.alpha+")",d.fill()}}if(!(window.innerWidth<=960)){var l,a,c,r,d,h,w,m=!0;e(),n()}}();var _gaq=[["_setAccount","UA-59051500-1"],["_trackPageview"]];!function(e,n){var o=e.createElement(n),t=e.getElementsByTagName(n)[0];o.src=("https:"==location.protocol?"//ssl":"//www")+".google-analytics.com/ga.js",t.parentNode.insertBefore(o,t)}(document,"script");