function preventDefault(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1}function keydown(e){for(var n=keys.length;n--;)if(e.keyCode===keys[n])return void preventDefault(e)}function wheel(e){preventDefault(e)}function disable_scroll(){window.addEventListener&&window.addEventListener("DOMMouseScroll",wheel,!1),window.onmousewheel=document.onmousewheel=window.ontouchmove=document.ontouchmove=wheel,document.onkeydown=keydown}function enable_scroll(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",wheel,!1),window.onmousewheel=document.onmousewheel=document.onkeydown=window.ontouchmove=document.ontouchmove=null,body.classList.remove("non-scrollable"),wrapper.classList.remove("non-scrollable")}var body=document.body,html=document.documentElement,wrapper=document.getElementsByClassName("wrapper")[0],header=document.getElementsByTagName("header")[0],introText=document.getElementsByClassName("home__intro-text")[0],navMenu=document.getElementsByClassName("nav")[0],navLinks=document.getElementsByClassName("nav-link"),brand=document.getElementsByClassName("brand")[0],onLink=document.getElementsByClassName("on")[0],scrollDown=document.getElementsByClassName("home__down-symbol")[0],workImages=document.getElementsByClassName("work-project__img"),menuIcon=document.getElementsByClassName("nav-toggle")[0],loader=document.getElementsByClassName("loader")[0],i,SCROLL_DURATION=2500,sections=document.getElementsByTagName("section"),height=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight),width=Math.max(body.scrollWidth,body.offsetWidth,html.clientWidth,html.scrollWidth,html.offsetWidth),outerWidth=window.outerWidth,outerHeight=window.outerHeight,currentSection=sections[0],prevSection=sections[0];window.outerWidth<=960&&(navMenu.className="nav pr nav-hidden");var keys=[37,38,39,40],scrollFlag=!0;disable_scroll(),window.onload=function(){setTimeout(function(){loader.classList.add("hidden"),enable_scroll()},2e3),setTimeout(function(){loader.style.display="none"},3e3)},window.onresize=function(){width=Math.max(body.scrollWidth,body.offsetWidth,html.clientWidth,html.scrollWidth,html.offsetWidth),960>=width&&"nav pr"==navMenu.className&&(navMenu.className="nav pr nav-hidden",menuIcon.classList.remove("active"),enable_scroll())},menuIcon.addEventListener("click",function(e){this.classList.toggle("active"),navMenu.classList.toggle("nav-hidden"),1==scrollFlag?(disable_scroll(),scrollFlag=!1):(enable_scroll(),scrollFlag=!0),e.preventDefault()},!1);var closeMenu=function(){menuIcon.classList.remove("active"),navMenu.classList.add("nav-hidden")};navLinks[0].addEventListener("click",function(){960>width&&closeMenu(),Velocity(sections[0],"scroll",{duration:1e3})},!1),navLinks[1].addEventListener("click",function(){960>width&&closeMenu(),Velocity(sections[1],"scroll",{duration:1e3})},!1),navLinks[2].addEventListener("click",function(){960>width&&closeMenu(),Velocity(sections[2],"scroll",{duration:1e3})},!1),navLinks[3].addEventListener("click",function(){960>width&&closeMenu(),Velocity(sections[3],"scroll",{duration:1e3})},!1),scrollDown.addEventListener("click",function(){Velocity(sections[1],"scroll",{duration:1e3})},!1);var brandHandler=function(e){currentSection=e,prevSection!=currentSection&&(brand.classList.remove("hidden"),setTimeout(function(){brand.classList.add("hidden")},1e3),prevSection=currentSection)},showBrand=function(){brand.classList.remove("hidden")};window.onscroll=function(){if(height=Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight),window.scrollY>=sections[1].offsetTop-100&&width>960?header.classList.add("header--white"):header.classList.remove("header--white"),window.scrollY+window.innerHeight+100>=window.height)onLink.className="nav-link",navLinks[3].className="nav-link on",onLink=navLinks[3],960>=width&&(brand.innerHTML="Contact",brandHandler(sections[3]));else if(window.scrollY>=sections[2].offsetTop-100)onLink.className="nav-link",navLinks[2].className="nav-link on",onLink=navLinks[2],960>=width&&(brand.innerHTML="About",brandHandler(sections[2]));else if(window.scrollY>=sections[1].offsetTop-100)onLink.className="nav-link",navLinks[1].className="nav-link on",onLink=navLinks[1],960>=width&&(brand.classList.add("brand--scrolled"),brand.innerHTML="Work",brandHandler(sections[1]));else{onLink.className="nav-link",navLinks[0].className="nav-link on",onLink=navLinks[0];for(var e=0;e<workImages.length;e++)workImages[e].children[0].className="";960>=width&&(brand.classList.remove("brand--scrolled"),brand.innerHTML="Home",brandHandler(sections[0]))}},function(){function e(){a=window.innerWidth,l=window.innerHeight,m={x:0,y:l},d=document.getElementById("large-header"),d.style.height=l+"px",c=document.getElementById("demo-canvas"),c.width=a,c.height=l,r=c.getContext("2d"),h=[];for(var e=0;.5*a>e;e++){var n=new s;h.push(n)}i()}function n(){window.addEventListener("scroll",t),window.addEventListener("resize",o)}function t(){u=document.body.scrollTop>l?!1:!0}function o(){a=window.innerWidth,l=window.innerHeight,d.style.height=l+"px",c.width=a,c.height=l}function i(){if(u){r.clearRect(0,0,a,height);for(var e in h)h[e].draw()}requestAnimationFrame(i)}function s(){function e(){n.pos.x=Math.random()*a,n.pos.y=l+100*Math.random(),n.alpha=.1+.3*Math.random(),n.scale=.1+.3*Math.random(),n.velocity=Math.random()}var n=this;!function(){n.pos={},e()}(),this.draw=function(){n.alpha<=0&&e(),n.pos.y-=n.velocity,n.alpha-=5e-4,r.beginPath(),r.arc(n.pos.x,n.pos.y,10*n.scale,0,2*Math.PI,!1),r.fillStyle="rgba(255,255,255,"+n.alpha+")",r.fill()}}if(!(window.innerWidth<=960)){var a,l,d,c,r,h,m,u=!0;e(),n()}}();var _gaq=[["_setAccount","UA-59051500-1"],["_trackPageview"]];!function(e,n){var t=e.createElement(n),o=e.getElementsByTagName(n)[0];t.src=("https:"==location.protocol?"//ssl":"//www")+".google-analytics.com/ga.js",o.parentNode.insertBefore(t,o)}(document,"script");